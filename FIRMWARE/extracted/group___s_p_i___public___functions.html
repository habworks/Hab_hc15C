<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>LPC1700CMSIS Standard Peripheral Firmware Library Manual: SPI Public Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>SPI Public Functions<br>
<small>
[<a class="el" href="group___s_p_i.html">SPI</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___public___functions.html#gcc525d0fb68783cb8f1f6e4a8aafb802">SPI_Init</a> (<a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *SPIx, <a class="el" href="struct_s_p_i___c_f_g___type.html">SPI_CFG_Type</a> *<a class="el" href="group___s_p_i__slave.html#g72a3cd9e19813b44f66d4a3207494faf">SPI_ConfigStruct</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes the SPIx peripheral according to the specified parameters in the UART_ConfigStruct.  <a href="#gcc525d0fb68783cb8f1f6e4a8aafb802"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___public___functions.html#gd69565a7837b400d57b41f1c915a0ffd">SPI_DeInit</a> (<a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *SPIx)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">De-initializes the SPIx peripheral registers to their default reset values.  <a href="#gd69565a7837b400d57b41f1c915a0ffd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___public___functions.html#g037916fc546ae3e40e7599e4709be5e6">SPI_SetClock</a> (<a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *SPIx, uint32_t target_clock)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setup clock rate for SPI device.  <a href="#g037916fc546ae3e40e7599e4709be5e6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___public___functions.html#g647f575ab1548b4923c2fb81b727a3b1">SPI_ConfigStructInit</a> (<a class="el" href="struct_s_p_i___c_f_g___type.html">SPI_CFG_Type</a> *SPI_InitStruct)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fills each SPI_InitStruct member with its default value:<ul>
<li>CPHA = SPI_CPHA_FIRST</li><li>CPOL = SPI_CPOL_HI</li><li>ClockRate = 1000000</li><li>DataOrder = SPI_DATA_MSB_FIRST</li><li>Databit = SPI_DATABIT_8</li><li>Mode = SPI_MASTER_MODE. </li></ul>
 <a href="#g647f575ab1548b4923c2fb81b727a3b1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___public___functions.html#g4efab5e28246cb68960446331bbb26a5">SPI_SendData</a> (<a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *SPIx, uint16_t Data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transmit a single data through SPIx peripheral.  <a href="#g4efab5e28246cb68960446331bbb26a5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___public___functions.html#gf9dadfe803c47babc11f6d36fd641ca8">SPI_ReceiveData</a> (<a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *SPIx)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Receive a single data from SPIx peripheral.  <a href="#gf9dadfe803c47babc11f6d36fd641ca8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___public___functions.html#g2f278961f5f8a66beea7a0c1c29b1ef2">SPI_ReadWrite</a> (<a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *SPIx, <a class="el" href="struct_s_p_i___d_a_t_a___s_e_t_u_p___type.html">SPI_DATA_SETUP_Type</a> *dataCfg, <a class="el" href="group___s_p_i___public___types.html#g0003ce5a6b4371e13d99dcce3fcada70">SPI_TRANSFER_Type</a> xfType)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">SPI Read write data function.  <a href="#g2f278961f5f8a66beea7a0c1c29b1ef2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___public___functions.html#g8d66b5c9ab5f165f022b4ff05befc3e6">SPI_IntCmd</a> (<a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *SPIx, <a class="el" href="group___l_p_c___types___public___types.html#gc9a7e9a35d2513ec15c3b537aaa4fba1">FunctionalState</a> NewState)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable or disable SPIx interrupt.  <a href="#g8d66b5c9ab5f165f022b4ff05befc3e6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group___l_p_c___types___public___types.html#gb7d263072f745b4f3913fb0afc434c4e">IntStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___public___functions.html#gf4be2385961757e16c7e039b20eda073">SPI_GetIntStatus</a> (<a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *SPIx)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks whether the SPI interrupt flag is set or not.  <a href="#gf4be2385961757e16c7e039b20eda073"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___public___functions.html#gae94eea146da94e4fe484ef2eb5b0658">SPI_ClearIntPending</a> (<a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *SPIx)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear SPI interrupt flag.  <a href="#gae94eea146da94e4fe484ef2eb5b0658"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___public___functions.html#g01cdc5a3a87f60639723f52637dfa472">SPI_GetDataSize</a> (<a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *SPIx)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get data bit size per transfer.  <a href="#g01cdc5a3a87f60639723f52637dfa472"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___public___functions.html#g924eaa5c17f8b81218ab208a56558dd1">SPI_GetStatus</a> (<a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *SPIx)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get current value of SPI Status register in SPIx peripheral.  <a href="#g924eaa5c17f8b81218ab208a56558dd1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group___l_p_c___types___public___types.html#g89136caac2e14c55151f527ac02daaff">FlagStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___public___functions.html#gbed2db451c0bdd0f8fa784fd3d101d33">SPI_CheckStatus</a> (uint32_t inputSPIStatus, uint8_t SPIStatus)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks whether the specified SPI Status flag is set or not via inputSPIStatus parameter.  <a href="#gbed2db451c0bdd0f8fa784fd3d101d33"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="gbed2db451c0bdd0f8fa784fd3d101d33"></a><!-- doxytag: member="lpc17xx_spi.h::SPI_CheckStatus" ref="gbed2db451c0bdd0f8fa784fd3d101d33" args="(uint32_t inputSPIStatus, uint8_t SPIStatus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___l_p_c___types___public___types.html#g89136caac2e14c55151f527ac02daaff">FlagStatus</a> SPI_CheckStatus           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>inputSPIStatus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>SPIStatus</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks whether the specified SPI Status flag is set or not via inputSPIStatus parameter. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>inputSPIStatus</em>&nbsp;</td><td>Value to check status of each flag type. This value is the return value from <a class="el" href="group___s_p_i___public___functions.html#g924eaa5c17f8b81218ab208a56558dd1" title="Get current value of SPI Status register in SPIx peripheral.">SPI_GetStatus()</a>. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>SPIStatus</em>&nbsp;</td><td>Specifies the SPI status flag to check, should be one of the following:<ul>
<li>SPI_STAT_ABRT: Slave abort.</li><li>SPI_STAT_MODF: Mode fault.</li><li>SPI_STAT_ROVR: Read overrun.</li><li>SPI_STAT_WCOL: Write collision.</li><li>SPI_STAT_SPIF: SPI transfer complete. </li></ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The new state of SPIStatus (SET or RESET) </dd></dl>

<p>Definition at line <a class="el" href="lpc17xx__spi_8c_source.html#l00419">419</a> of file <a class="el" href="lpc17xx__spi_8c_source.html">lpc17xx_spi.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="gae94eea146da94e4fe484ef2eb5b0658"></a><!-- doxytag: member="lpc17xx_spi.h::SPI_ClearIntPending" ref="gae94eea146da94e4fe484ef2eb5b0658" args="(LPC_SPI_TypeDef *SPIx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_ClearIntPending           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>SPIx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clear SPI interrupt flag. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>SPIx</em>&nbsp;</td><td>SPI peripheral selected, should be LPC_SPI </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="lpc17xx__spi_8c_source.html#l00379">379</a> of file <a class="el" href="lpc17xx__spi_8c_source.html">lpc17xx_spi.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="g647f575ab1548b4923c2fb81b727a3b1"></a><!-- doxytag: member="lpc17xx_spi.h::SPI_ConfigStructInit" ref="g647f575ab1548b4923c2fb81b727a3b1" args="(SPI_CFG_Type *SPI_InitStruct)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_ConfigStructInit           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s_p_i___c_f_g___type.html">SPI_CFG_Type</a> *&nbsp;</td>
          <td class="paramname"> <em>SPI_InitStruct</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Fills each SPI_InitStruct member with its default value:<ul>
<li>CPHA = SPI_CPHA_FIRST</li><li>CPOL = SPI_CPOL_HI</li><li>ClockRate = 1000000</li><li>DataOrder = SPI_DATA_MSB_FIRST</li><li>Databit = SPI_DATABIT_8</li><li>Mode = SPI_MASTER_MODE. </li></ul>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>SPI_InitStruct</em>&nbsp;</td><td>Pointer to a <a class="el" href="struct_s_p_i___c_f_g___type.html" title="SPI configuration structure.">SPI_CFG_Type</a> structure which will be initialized. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="lpc17xx__spi_8c_source.html#l00169">169</a> of file <a class="el" href="lpc17xx__spi_8c_source.html">lpc17xx_spi.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="gd69565a7837b400d57b41f1c915a0ffd"></a><!-- doxytag: member="lpc17xx_spi.h::SPI_DeInit" ref="gd69565a7837b400d57b41f1c915a0ffd" args="(LPC_SPI_TypeDef *SPIx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_DeInit           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>SPIx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
De-initializes the SPIx peripheral registers to their default reset values. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>SPIx</em>&nbsp;</td><td>SPI peripheral selected, should be LPC_SPI </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="lpc17xx__spi_8c_source.html#l00096">96</a> of file <a class="el" href="lpc17xx__spi_8c_source.html">lpc17xx_spi.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="g01cdc5a3a87f60639723f52637dfa472"></a><!-- doxytag: member="lpc17xx_spi.h::SPI_GetDataSize" ref="g01cdc5a3a87f60639723f52637dfa472" args="(LPC_SPI_TypeDef *SPIx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SPI_GetDataSize           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>SPIx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get data bit size per transfer. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>SPIx</em>&nbsp;</td><td>SPI peripheral selected, should be LPC_SPI </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>number of bit per transfer, could be 8-16 </dd></dl>

<p>Definition at line <a class="el" href="lpc17xx__spi_8c_source.html#l00111">111</a> of file <a class="el" href="lpc17xx__spi_8c_source.html">lpc17xx_spi.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf4be2385961757e16c7e039b20eda073"></a><!-- doxytag: member="lpc17xx_spi.h::SPI_GetIntStatus" ref="gf4be2385961757e16c7e039b20eda073" args="(LPC_SPI_TypeDef *SPIx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___l_p_c___types___public___types.html#gb7d263072f745b4f3913fb0afc434c4e">IntStatus</a> SPI_GetIntStatus           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>SPIx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks whether the SPI interrupt flag is set or not. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>SPIx</em>&nbsp;</td><td>SPI peripheral selected, should be LPC_SPI </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The new state of SPI Interrupt Flag (SET or RESET) </dd></dl>

<p>Definition at line <a class="el" href="lpc17xx__spi_8c_source.html#l00367">367</a> of file <a class="el" href="lpc17xx__spi_8c_source.html">lpc17xx_spi.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="g924eaa5c17f8b81218ab208a56558dd1"></a><!-- doxytag: member="lpc17xx_spi.h::SPI_GetStatus" ref="g924eaa5c17f8b81218ab208a56558dd1" args="(LPC_SPI_TypeDef *SPIx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SPI_GetStatus           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>SPIx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get current value of SPI Status register in SPIx peripheral. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>SPIx</em>&nbsp;</td><td>SPI peripheral selected, should be LPC_SPI </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Current value of SPI Status register in SPI peripheral. Note: The return value of this function must be used with <a class="el" href="group___s_p_i___public___functions.html#gbed2db451c0bdd0f8fa784fd3d101d33" title="Checks whether the specified SPI Status flag is set or not via inputSPIStatus parameter...">SPI_CheckStatus()</a> to determine current flag status corresponding to each SPI status type. Because some flags in SPI Status register will be cleared after reading, the next reading SPI Status register could not be correct. So this function used to read SPI status register in one time only, then the return value used to check all flags. </dd></dl>

<p>Definition at line <a class="el" href="lpc17xx__spi_8c_source.html#l00398">398</a> of file <a class="el" href="lpc17xx__spi_8c_source.html">lpc17xx_spi.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="gcc525d0fb68783cb8f1f6e4a8aafb802"></a><!-- doxytag: member="lpc17xx_spi.h::SPI_Init" ref="gcc525d0fb68783cb8f1f6e4a8aafb802" args="(LPC_SPI_TypeDef *SPIx, SPI_CFG_Type *SPI_ConfigStruct)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_Init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>SPIx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_p_i___c_f_g___type.html">SPI_CFG_Type</a> *&nbsp;</td>
          <td class="paramname"> <em>SPI_ConfigStruct</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes the SPIx peripheral according to the specified parameters in the UART_ConfigStruct. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>SPIx</em>&nbsp;</td><td>SPI peripheral selected, should be LPC_SPI </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>SPI_ConfigStruct</em>&nbsp;</td><td>Pointer to a <a class="el" href="struct_s_p_i___c_f_g___type.html" title="SPI configuration structure.">SPI_CFG_Type</a> structure that contains the configuration information for the specified SPI peripheral. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="lpc17xx__spi_8c_source.html#l00126">126</a> of file <a class="el" href="lpc17xx__spi_8c_source.html">lpc17xx_spi.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="g8d66b5c9ab5f165f022b4ff05befc3e6"></a><!-- doxytag: member="lpc17xx_spi.h::SPI_IntCmd" ref="g8d66b5c9ab5f165f022b4ff05befc3e6" args="(LPC_SPI_TypeDef *SPIx, FunctionalState NewState)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_IntCmd           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>SPIx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___l_p_c___types___public___types.html#gc9a7e9a35d2513ec15c3b537aaa4fba1">FunctionalState</a>&nbsp;</td>
          <td class="paramname"> <em>NewState</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enable or disable SPIx interrupt. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>SPIx</em>&nbsp;</td><td>SPI peripheral selected, should be LPC_SPI </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>NewState</em>&nbsp;</td><td>New state of specified UART interrupt type, should be:<ul>
<li>ENALBE: Enable this SPI interrupt.</li><li>DISALBE: Disable this SPI interrupt. </li></ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="lpc17xx__spi_8c_source.html#l00346">346</a> of file <a class="el" href="lpc17xx__spi_8c_source.html">lpc17xx_spi.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="g2f278961f5f8a66beea7a0c1c29b1ef2"></a><!-- doxytag: member="lpc17xx_spi.h::SPI_ReadWrite" ref="g2f278961f5f8a66beea7a0c1c29b1ef2" args="(LPC_SPI_TypeDef *SPIx, SPI_DATA_SETUP_Type *dataCfg, SPI_TRANSFER_Type xfType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t SPI_ReadWrite           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>SPIx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_p_i___d_a_t_a___s_e_t_u_p___type.html">SPI_DATA_SETUP_Type</a> *&nbsp;</td>
          <td class="paramname"> <em>dataCfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_p_i___public___types.html#g0003ce5a6b4371e13d99dcce3fcada70">SPI_TRANSFER_Type</a>&nbsp;</td>
          <td class="paramname"> <em>xfType</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
SPI Read write data function. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>SPIx</em>&nbsp;</td><td>Pointer to SPI peripheral, should be LPC_SPI </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dataCfg</em>&nbsp;</td><td>Pointer to a <a class="el" href="struct_s_p_i___d_a_t_a___s_e_t_u_p___type.html" title="SPI Data configuration structure definitions.">SPI_DATA_SETUP_Type</a> structure that contains specified information about transmit data configuration. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>xfType</em>&nbsp;</td><td>Transfer type, should be:<ul>
<li>SPI_TRANSFER_POLLING: Polling mode</li><li>SPI_TRANSFER_INTERRUPT: Interrupt mode </li></ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Actual Data length has been transferred in polling mode. In interrupt mode, always return (0) Return (-1) if error. Note: This function can be used in both master and slave mode. </dd></dl>

<p>Definition at line <a class="el" href="lpc17xx__spi_8c_source.html#l00221">221</a> of file <a class="el" href="lpc17xx__spi_8c_source.html">lpc17xx_spi.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf9dadfe803c47babc11f6d36fd641ca8"></a><!-- doxytag: member="lpc17xx_spi.h::SPI_ReceiveData" ref="gf9dadfe803c47babc11f6d36fd641ca8" args="(LPC_SPI_TypeDef *SPIx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t SPI_ReceiveData           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>SPIx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Receive a single data from SPIx peripheral. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>SPIx</em>&nbsp;</td><td>SPI peripheral selected, should be LPC_SPI </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Data received (16-bit long) </dd></dl>

<p>Definition at line <a class="el" href="lpc17xx__spi_8c_source.html#l00200">200</a> of file <a class="el" href="lpc17xx__spi_8c_source.html">lpc17xx_spi.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="g4efab5e28246cb68960446331bbb26a5"></a><!-- doxytag: member="lpc17xx_spi.h::SPI_SendData" ref="g4efab5e28246cb68960446331bbb26a5" args="(LPC_SPI_TypeDef *SPIx, uint16_t Data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_SendData           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>SPIx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>Data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Transmit a single data through SPIx peripheral. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>SPIx</em>&nbsp;</td><td>SPI peripheral selected, should be LPC_SPI </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>Data</em>&nbsp;</td><td>Data to transmit (must be 16 or 8-bit long, this depend on SPI data bit number configured) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>none </dd></dl>

<p>Definition at line <a class="el" href="lpc17xx__spi_8c_source.html#l00186">186</a> of file <a class="el" href="lpc17xx__spi_8c_source.html">lpc17xx_spi.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="g037916fc546ae3e40e7599e4709be5e6"></a><!-- doxytag: member="lpc17xx_spi.h::SPI_SetClock" ref="g037916fc546ae3e40e7599e4709be5e6" args="(LPC_SPI_TypeDef *SPIx, uint32_t target_clock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_SetClock           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l_p_c___s_p_i___type_def.html">LPC_SPI_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>SPIx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>target_clock</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Setup clock rate for SPI device. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>SPIx</em>&nbsp;</td><td>SPI peripheral definition, should be LPC_SPI </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>target_clock</em>&nbsp;</td><td>: clock of SPI (Hz) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="lpc17xx__spi_8c_source.html#l00059">59</a> of file <a class="el" href="lpc17xx__spi_8c_source.html">lpc17xx_spi.c</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jun 7 14:59:38 2011 for LPC1700CMSIS Standard Peripheral Firmware Library Manual by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
