<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>LPC1700CMSIS Standard Peripheral Firmware Library Manual: C:/nxpdrv/LPC1700CMSIS/Drivers/source/lpc17xx_mcpwm.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>C:/nxpdrv/LPC1700CMSIS/Drivers/source/lpc17xx_mcpwm.c</h1><a href="lpc17xx__mcpwm_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/**********************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* $Id$          lpc17xx_mcpwm.c                         2010-05-21</span>
<a name="l00003"></a>00003 <span class="comment">*/</span>
<a name="l00027"></a>00027 <span class="comment">/* Peripheral group ----------------------------------------------------------- */</span>
<a name="l00032"></a>00032 <span class="comment">/* Includes ------------------------------------------------------------------- */</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include "<a class="code" href="lpc17xx__mcpwm_8h.html" title="Contains all macro definitions and function prototypes support for Motor Control...">lpc17xx_mcpwm.h</a>"</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include "<a class="code" href="lpc17xx__clkpwr_8h.html" title="Contains all macro definitions and function prototypes support for Clock and Power...">lpc17xx_clkpwr.h</a>"</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="comment">/* If this source file built with example, the LPC17xx FW library configuration</span>
<a name="l00037"></a>00037 <span class="comment"> * file in each example directory ("lpc17xx_libcfg.h") must be included,</span>
<a name="l00038"></a>00038 <span class="comment"> * otherwise the default FW library configuration file must be included instead</span>
<a name="l00039"></a>00039 <span class="comment"> */</span>
<a name="l00040"></a>00040 <span class="preprocessor">#ifdef __BUILD_WITH_EXAMPLE__</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span><span class="preprocessor">#include "lpc17xx_libcfg.h"</span>
<a name="l00042"></a>00042 <span class="preprocessor">#else</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="lpc17xx__libcfg__default_8h.html" title="Default Library configuration header file.">lpc17xx_libcfg_default.h</a>"</span>
<a name="l00044"></a>00044 <span class="preprocessor">#endif </span><span class="comment">/* __BUILD_WITH_EXAMPLE__ */</span>
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="preprocessor">#ifdef _MCPWM</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span>
<a name="l00049"></a>00049 <span class="comment">/* Public Functions ----------------------------------------------------------- */</span>
<a name="l00054"></a>00054 <span class="comment">/*********************************************************************/</span>
<a name="l00060"></a><a class="code" href="group___m_c_p_w_m___public___functions.html#gdf65fddc09f33f44ce17da0feccd4ea5">00060</a> <span class="keywordtype">void</span> <a class="code" href="group___m_c_p_w_m___public___functions.html#gdf65fddc09f33f44ce17da0feccd4ea5" title="Initializes the MCPWM peripheral.">MCPWM_Init</a>(<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html" title="Motor Control Pulse-Width Modulation (MCPWM) register structure definition.">LPC_MCPWM_TypeDef</a> *MCPWMx)
<a name="l00061"></a>00061 {
<a name="l00062"></a>00062 
<a name="l00063"></a>00063         <span class="comment">/* Turn On MCPWM PCLK */</span>
<a name="l00064"></a>00064         <a class="code" href="group___c_l_k_p_w_r___public___functions.html#gc29f7879a37c604a1040499001ba0121" title="Configure power supply for each peripheral according to NewState.">CLKPWR_ConfigPPWR</a> (<a class="code" href="group___c_l_k_p_w_r___public___macros.html#g5a8749edeb4ea582cd48f5f35f2088e6">CLKPWR_PCONP_PCMC</a>, <a class="code" href="group___l_p_c___types___public___types.html#ggc9a7e9a35d2513ec15c3b537aaa4fba17d46875fa3ebd2c34d2756950eda83bf">ENABLE</a>);
<a name="l00065"></a>00065         <span class="comment">/* As default, peripheral clock for MCPWM module</span>
<a name="l00066"></a>00066 <span class="comment">         * is set to FCCLK / 2 */</span>
<a name="l00067"></a>00067         <span class="comment">// CLKPWR_SetPCLKDiv(CLKPWR_PCLKSEL_MC, CLKPWR_PCLKSEL_CCLK_DIV_2);</span>
<a name="l00068"></a>00068 
<a name="l00069"></a>00069         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#8551eb7ecad21e0f8c35ac6dfb0dbf53">MCCAP_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#gd5239d931a25e8ee5e06aa89d1cf87cc">MCPWM_CAPCLR_CAP</a>(0) | <a class="code" href="group___m_c_p_w_m___private___macros.html#gd5239d931a25e8ee5e06aa89d1cf87cc">MCPWM_CAPCLR_CAP</a>(1) | <a class="code" href="group___m_c_p_w_m___private___macros.html#gd5239d931a25e8ee5e06aa89d1cf87cc">MCPWM_CAPCLR_CAP</a>(2);
<a name="l00070"></a>00070         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#79b33e9db3a0396b28ef4a83f2b0f8bd">MCINTFLAG_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g47b2ecdf72df74b779870bc0ba4e94ce">MCPWM_INT_ILIM</a>(0) | <a class="code" href="group___m_c_p_w_m___private___macros.html#g47b2ecdf72df74b779870bc0ba4e94ce">MCPWM_INT_ILIM</a>(1) | <a class="code" href="group___m_c_p_w_m___private___macros.html#g47b2ecdf72df74b779870bc0ba4e94ce">MCPWM_INT_ILIM</a>(2) \
<a name="l00071"></a>00071                                                         | <a class="code" href="group___m_c_p_w_m___private___macros.html#g82c128589c028ca5ad7d7c5bc4391805">MCPWM_INT_IMAT</a>(0) | <a class="code" href="group___m_c_p_w_m___private___macros.html#g82c128589c028ca5ad7d7c5bc4391805">MCPWM_INT_IMAT</a>(1) | <a class="code" href="group___m_c_p_w_m___private___macros.html#g82c128589c028ca5ad7d7c5bc4391805">MCPWM_INT_IMAT</a>(2) \
<a name="l00072"></a>00072                                                         | <a class="code" href="group___m_c_p_w_m___private___macros.html#g1879c9dcab254e222691496618e6fc53">MCPWM_INT_ICAP</a>(0) | <a class="code" href="group___m_c_p_w_m___private___macros.html#g1879c9dcab254e222691496618e6fc53">MCPWM_INT_ICAP</a>(1) | <a class="code" href="group___m_c_p_w_m___private___macros.html#g1879c9dcab254e222691496618e6fc53">MCPWM_INT_ICAP</a>(2);
<a name="l00073"></a>00073         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#86f073608a83c8ca946bc47f1df25531">MCINTEN_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g47b2ecdf72df74b779870bc0ba4e94ce">MCPWM_INT_ILIM</a>(0) | <a class="code" href="group___m_c_p_w_m___private___macros.html#g47b2ecdf72df74b779870bc0ba4e94ce">MCPWM_INT_ILIM</a>(1) | <a class="code" href="group___m_c_p_w_m___private___macros.html#g47b2ecdf72df74b779870bc0ba4e94ce">MCPWM_INT_ILIM</a>(2) \
<a name="l00074"></a>00074                                                         | <a class="code" href="group___m_c_p_w_m___private___macros.html#g82c128589c028ca5ad7d7c5bc4391805">MCPWM_INT_IMAT</a>(0) | <a class="code" href="group___m_c_p_w_m___private___macros.html#g82c128589c028ca5ad7d7c5bc4391805">MCPWM_INT_IMAT</a>(1) | <a class="code" href="group___m_c_p_w_m___private___macros.html#g82c128589c028ca5ad7d7c5bc4391805">MCPWM_INT_IMAT</a>(2) \
<a name="l00075"></a>00075                                                         | <a class="code" href="group___m_c_p_w_m___private___macros.html#g1879c9dcab254e222691496618e6fc53">MCPWM_INT_ICAP</a>(0) | <a class="code" href="group___m_c_p_w_m___private___macros.html#g1879c9dcab254e222691496618e6fc53">MCPWM_INT_ICAP</a>(1) | <a class="code" href="group___m_c_p_w_m___private___macros.html#g1879c9dcab254e222691496618e6fc53">MCPWM_INT_ICAP</a>(2);
<a name="l00076"></a>00076 }
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 <span class="comment">/*********************************************************************/</span>
<a name="l00090"></a><a class="code" href="group___m_c_p_w_m___public___functions.html#g21e00385fd06b6603cc8d865fa844277">00090</a> <span class="keywordtype">void</span> <a class="code" href="group___m_c_p_w_m___public___functions.html#g21e00385fd06b6603cc8d865fa844277" title="Configures each channel in MCPWM peripheral according to the specified parameters...">MCPWM_ConfigChannel</a>(<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html" title="Motor Control Pulse-Width Modulation (MCPWM) register structure definition.">LPC_MCPWM_TypeDef</a> *MCPWMx, uint32_t channelNum,
<a name="l00091"></a>00091                                                 <a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html" title="Motor Control PWM Channel Configuration structure type definition.">MCPWM_CHANNEL_CFG_Type</a> * channelSetup)
<a name="l00092"></a>00092 {
<a name="l00093"></a>00093         <span class="keywordflow">if</span> ((channelNum &gt;= 0) &amp;&amp; (channelNum &lt;= 2)) {
<a name="l00094"></a>00094                 <span class="keywordflow">if</span> (channelNum == 0) {
<a name="l00095"></a>00095                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#fc04f37946342fa90fbcdbc89c7f0deb">MCTIM0</a> = channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#bcfabcafadfab12df874058e100eb042">channelTimercounterValue</a>;
<a name="l00096"></a>00096                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#22ca31777b3c76534d6038fc367a26de">MCPER0</a> = channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#f0bf08ad0052fe35fc67e4ac2d87f0dc">channelPeriodValue</a>;
<a name="l00097"></a>00097                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#fd68b88359f2e8ee3b338b6a23750232">MCPW0</a> = channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#34ee8d0ed4e1209701925ebd8df9a308">channelPulsewidthValue</a>;
<a name="l00098"></a>00098                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (channelNum == 1) {
<a name="l00099"></a>00099                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#de3755488db942e9e4484882c5b8f827">MCTIM1</a> = channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#bcfabcafadfab12df874058e100eb042">channelTimercounterValue</a>;
<a name="l00100"></a>00100                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#80ac57339544ec49695c35ed56508f5f">MCPER1</a> = channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#f0bf08ad0052fe35fc67e4ac2d87f0dc">channelPeriodValue</a>;
<a name="l00101"></a>00101                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#ffc3516b98a2ae4eba7b2399fe5cbfcb">MCPW1</a> = channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#34ee8d0ed4e1209701925ebd8df9a308">channelPulsewidthValue</a>;
<a name="l00102"></a>00102                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (channelNum == 2) {
<a name="l00103"></a>00103                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#87827c3f03c84cfbf4ed0dff5ae3e849">MCTIM2</a> = channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#bcfabcafadfab12df874058e100eb042">channelTimercounterValue</a>;
<a name="l00104"></a>00104                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#f05b9ee331d34799b00d747d90fd1891">MCPER2</a> = channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#f0bf08ad0052fe35fc67e4ac2d87f0dc">channelPeriodValue</a>;
<a name="l00105"></a>00105                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#8dc9bf3dfb87f538e41b42f454c805c0">MCPW2</a> = channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#34ee8d0ed4e1209701925ebd8df9a308">channelPulsewidthValue</a>;
<a name="l00106"></a>00106                 } <span class="keywordflow">else</span> {
<a name="l00107"></a>00107                         <span class="keywordflow">return</span>;
<a name="l00108"></a>00108                 }
<a name="l00109"></a>00109 
<a name="l00110"></a>00110                 <span class="keywordflow">if</span> (channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#1233fe8ae7562922a063dda0eb764183">channelType</a> <span class="comment">/* == MCPWM_CHANNEL_CENTER_MODE */</span>){
<a name="l00111"></a>00111                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#82c2c3a1cdb3425aeb9cb7fd83fefcad">MCCON_SET</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g74e666543a14b180eaca82009eb2abb6">MCPWM_CON_CENTER</a>(channelNum);
<a name="l00112"></a>00112                 } <span class="keywordflow">else</span> {
<a name="l00113"></a>00113                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#c640b1807f7c216fe856db2a6d2f519b">MCCON_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g74e666543a14b180eaca82009eb2abb6">MCPWM_CON_CENTER</a>(channelNum);
<a name="l00114"></a>00114                 }
<a name="l00115"></a>00115 
<a name="l00116"></a>00116                 <span class="keywordflow">if</span> (channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#eadf1a01ce00c50c636ecc0bc6c6c0b1">channelPolarity</a> <span class="comment">/* == MCPWM_CHANNEL_PASSIVE_HI */</span>){
<a name="l00117"></a>00117                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#82c2c3a1cdb3425aeb9cb7fd83fefcad">MCCON_SET</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#ga654b0d075b126c9f7f9f297224ea84e">MCPWM_CON_POLAR</a>(channelNum);
<a name="l00118"></a>00118                 } <span class="keywordflow">else</span> {
<a name="l00119"></a>00119                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#c640b1807f7c216fe856db2a6d2f519b">MCCON_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#ga654b0d075b126c9f7f9f297224ea84e">MCPWM_CON_POLAR</a>(channelNum);
<a name="l00120"></a>00120                 }
<a name="l00121"></a>00121 
<a name="l00122"></a>00122                 <span class="keywordflow">if</span> (channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#503e6813ad8fc6c937163a1fafebfafe">channelDeadtimeEnable</a> <span class="comment">/* == ENABLE */</span>){
<a name="l00123"></a>00123                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#82c2c3a1cdb3425aeb9cb7fd83fefcad">MCCON_SET</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g2c6a39ac50ede2d4e8a4fb51d3cff645">MCPWM_CON_DTE</a>(channelNum);
<a name="l00124"></a>00124                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#ab40dafd636aa70df2fdb5486689d14e">MCDEADTIME</a> &amp;= ~(<a class="code" href="group___m_c_p_w_m___private___macros.html#g8b132578b9684a73392d4f4d47a34b78">MCPWM_DT</a>(channelNum, 0x3FF));
<a name="l00125"></a>00125                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#ab40dafd636aa70df2fdb5486689d14e">MCDEADTIME</a> |= <a class="code" href="group___m_c_p_w_m___private___macros.html#g8b132578b9684a73392d4f4d47a34b78">MCPWM_DT</a>(channelNum, channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#2d73a8a7e6f1a5ea80673bffc65651a2">channelDeadtimeValue</a>);
<a name="l00126"></a>00126                 } <span class="keywordflow">else</span> {
<a name="l00127"></a>00127                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#c640b1807f7c216fe856db2a6d2f519b">MCCON_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g2c6a39ac50ede2d4e8a4fb51d3cff645">MCPWM_CON_DTE</a>(channelNum);
<a name="l00128"></a>00128                 }
<a name="l00129"></a>00129 
<a name="l00130"></a>00130                 <span class="keywordflow">if</span> (channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#ca20f0ba05c68f2ac2713d89312467c7">channelUpdateEnable</a> <span class="comment">/* == ENABLE */</span>){
<a name="l00131"></a>00131                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#c640b1807f7c216fe856db2a6d2f519b">MCCON_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#ga5a7de7ff73a6163ef34e989953099d3">MCPWM_CON_DISUP</a>(channelNum);
<a name="l00132"></a>00132                 } <span class="keywordflow">else</span> {
<a name="l00133"></a>00133                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#82c2c3a1cdb3425aeb9cb7fd83fefcad">MCCON_SET</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#ga5a7de7ff73a6163ef34e989953099d3">MCPWM_CON_DISUP</a>(channelNum);
<a name="l00134"></a>00134                 }
<a name="l00135"></a>00135         }
<a name="l00136"></a>00136 }
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 
<a name="l00139"></a>00139 <span class="comment">/*********************************************************************/</span>
<a name="l00150"></a><a class="code" href="group___m_c_p_w_m___public___functions.html#gd6e86195fdc0f79320e8e001fb2bfbab">00150</a> <span class="keywordtype">void</span> <a class="code" href="group___m_c_p_w_m___public___functions.html#gd6e86195fdc0f79320e8e001fb2bfbab" title="Write to MCPWM shadow registers - Update the value for period and pulse width in...">MCPWM_WriteToShadow</a>(<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html" title="Motor Control Pulse-Width Modulation (MCPWM) register structure definition.">LPC_MCPWM_TypeDef</a> *MCPWMx, uint32_t channelNum,
<a name="l00151"></a>00151                                                                 <a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html" title="Motor Control PWM Channel Configuration structure type definition.">MCPWM_CHANNEL_CFG_Type</a> *channelSetup)
<a name="l00152"></a>00152 {
<a name="l00153"></a>00153         <span class="keywordflow">if</span> (channelNum == 0){
<a name="l00154"></a>00154                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#22ca31777b3c76534d6038fc367a26de">MCPER0</a> = channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#f0bf08ad0052fe35fc67e4ac2d87f0dc">channelPeriodValue</a>;
<a name="l00155"></a>00155                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#fd68b88359f2e8ee3b338b6a23750232">MCPW0</a> = channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#34ee8d0ed4e1209701925ebd8df9a308">channelPulsewidthValue</a>;
<a name="l00156"></a>00156         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (channelNum == 1) {
<a name="l00157"></a>00157                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#80ac57339544ec49695c35ed56508f5f">MCPER1</a> = channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#f0bf08ad0052fe35fc67e4ac2d87f0dc">channelPeriodValue</a>;
<a name="l00158"></a>00158                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#ffc3516b98a2ae4eba7b2399fe5cbfcb">MCPW1</a> = channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#34ee8d0ed4e1209701925ebd8df9a308">channelPulsewidthValue</a>;
<a name="l00159"></a>00159         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (channelNum == 2) {
<a name="l00160"></a>00160                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#f05b9ee331d34799b00d747d90fd1891">MCPER2</a> = channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#f0bf08ad0052fe35fc67e4ac2d87f0dc">channelPeriodValue</a>;
<a name="l00161"></a>00161                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#8dc9bf3dfb87f538e41b42f454c805c0">MCPW2</a> = channelSetup-&gt;<a class="code" href="struct_m_c_p_w_m___c_h_a_n_n_e_l___c_f_g___type.html#34ee8d0ed4e1209701925ebd8df9a308">channelPulsewidthValue</a>;
<a name="l00162"></a>00162         }
<a name="l00163"></a>00163 }
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 
<a name="l00166"></a>00166 
<a name="l00167"></a>00167 <span class="comment">/*********************************************************************/</span>
<a name="l00178"></a><a class="code" href="group___m_c_p_w_m___public___functions.html#ga0adc9dac370774b463dc71f4f326b62">00178</a> <span class="keywordtype">void</span> <a class="code" href="group___m_c_p_w_m___public___functions.html#ga0adc9dac370774b463dc71f4f326b62" title="Configures capture function in MCPWM peripheral.">MCPWM_ConfigCapture</a>(<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html" title="Motor Control Pulse-Width Modulation (MCPWM) register structure definition.">LPC_MCPWM_TypeDef</a> *MCPWMx, uint32_t channelNum,
<a name="l00179"></a>00179                                                 <a class="code" href="struct_m_c_p_w_m___c_a_p_t_u_r_e___c_f_g___type.html" title="MCPWM Capture Configuration type definition.">MCPWM_CAPTURE_CFG_Type</a> *captureConfig)
<a name="l00180"></a>00180 {
<a name="l00181"></a>00181         <span class="keywordflow">if</span> ((channelNum &gt;= 0) &amp;&amp; (channelNum &lt;= 2)) {
<a name="l00182"></a>00182 
<a name="l00183"></a>00183                 <span class="keywordflow">if</span> (captureConfig-&gt;<a class="code" href="struct_m_c_p_w_m___c_a_p_t_u_r_e___c_f_g___type.html#d893756e56af79cc1aa2bfe6a4a9c106">captureFalling</a> <span class="comment">/* == ENABLE */</span>) {
<a name="l00184"></a>00184                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#cec41084c9be604af74d4ac4f0a7df3f">MCCAPCON_SET</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g4677d0998df3d56f970b3181a967901e">MCPWM_CAPCON_CAPMCI_FE</a>(captureConfig-&gt;<a class="code" href="struct_m_c_p_w_m___c_a_p_t_u_r_e___c_f_g___type.html#5fa6ac13d83dd6ba6b1c87acfb1f85d0">captureChannel</a>, channelNum);
<a name="l00185"></a>00185                 } <span class="keywordflow">else</span> {
<a name="l00186"></a>00186                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#863e78d7965c80556e8990247d2f0ffe">MCCAPCON_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g4677d0998df3d56f970b3181a967901e">MCPWM_CAPCON_CAPMCI_FE</a>(captureConfig-&gt;<a class="code" href="struct_m_c_p_w_m___c_a_p_t_u_r_e___c_f_g___type.html#5fa6ac13d83dd6ba6b1c87acfb1f85d0">captureChannel</a>, channelNum);
<a name="l00187"></a>00187                 }
<a name="l00188"></a>00188 
<a name="l00189"></a>00189                 <span class="keywordflow">if</span> (captureConfig-&gt;<a class="code" href="struct_m_c_p_w_m___c_a_p_t_u_r_e___c_f_g___type.html#411da7fe50805783bc2bedb616f35783">captureRising</a> <span class="comment">/* == ENABLE */</span>) {
<a name="l00190"></a>00190                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#cec41084c9be604af74d4ac4f0a7df3f">MCCAPCON_SET</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g986f84ea94cd540ea34e925cbd684791">MCPWM_CAPCON_CAPMCI_RE</a>(captureConfig-&gt;<a class="code" href="struct_m_c_p_w_m___c_a_p_t_u_r_e___c_f_g___type.html#5fa6ac13d83dd6ba6b1c87acfb1f85d0">captureChannel</a>, channelNum);
<a name="l00191"></a>00191                 } <span class="keywordflow">else</span> {
<a name="l00192"></a>00192                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#863e78d7965c80556e8990247d2f0ffe">MCCAPCON_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g986f84ea94cd540ea34e925cbd684791">MCPWM_CAPCON_CAPMCI_RE</a>(captureConfig-&gt;<a class="code" href="struct_m_c_p_w_m___c_a_p_t_u_r_e___c_f_g___type.html#5fa6ac13d83dd6ba6b1c87acfb1f85d0">captureChannel</a>, channelNum);
<a name="l00193"></a>00193                 }
<a name="l00194"></a>00194 
<a name="l00195"></a>00195                 <span class="keywordflow">if</span> (captureConfig-&gt;<a class="code" href="struct_m_c_p_w_m___c_a_p_t_u_r_e___c_f_g___type.html#d4b03cc49dbe4e6b13e32f8a7603ce4e">timerReset</a> <span class="comment">/* == ENABLE */</span>){
<a name="l00196"></a>00196                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#cec41084c9be604af74d4ac4f0a7df3f">MCCAPCON_SET</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#gf90554fc678dfe34862d7cf46e8b77b9">MCPWM_CAPCON_RT</a>(captureConfig-&gt;<a class="code" href="struct_m_c_p_w_m___c_a_p_t_u_r_e___c_f_g___type.html#5fa6ac13d83dd6ba6b1c87acfb1f85d0">captureChannel</a>);
<a name="l00197"></a>00197                 } <span class="keywordflow">else</span> {
<a name="l00198"></a>00198                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#863e78d7965c80556e8990247d2f0ffe">MCCAPCON_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#gf90554fc678dfe34862d7cf46e8b77b9">MCPWM_CAPCON_RT</a>(captureConfig-&gt;<a class="code" href="struct_m_c_p_w_m___c_a_p_t_u_r_e___c_f_g___type.html#5fa6ac13d83dd6ba6b1c87acfb1f85d0">captureChannel</a>);
<a name="l00199"></a>00199                 }
<a name="l00200"></a>00200 
<a name="l00201"></a>00201                 <span class="keywordflow">if</span> (captureConfig-&gt;<a class="code" href="struct_m_c_p_w_m___c_a_p_t_u_r_e___c_f_g___type.html#431f0973a6caf1b8d205f397d82299a0">hnfEnable</a> <span class="comment">/* == ENABLE */</span>){
<a name="l00202"></a>00202                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#cec41084c9be604af74d4ac4f0a7df3f">MCCAPCON_SET</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#gefc40e8c78b8bf5ed358c3ec971e40ee">MCPWM_CAPCON_HNFCAP</a>(channelNum);
<a name="l00203"></a>00203                 } <span class="keywordflow">else</span> {
<a name="l00204"></a>00204                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#863e78d7965c80556e8990247d2f0ffe">MCCAPCON_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#gefc40e8c78b8bf5ed358c3ec971e40ee">MCPWM_CAPCON_HNFCAP</a>(channelNum);
<a name="l00205"></a>00205                 }
<a name="l00206"></a>00206         }
<a name="l00207"></a>00207 }
<a name="l00208"></a>00208 
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 <span class="comment">/*********************************************************************/</span>
<a name="l00217"></a><a class="code" href="group___m_c_p_w_m___public___functions.html#g4ed3d8a6952db99f37fca604e45d5cae">00217</a> <span class="keywordtype">void</span> <a class="code" href="group___m_c_p_w_m___public___functions.html#g4ed3d8a6952db99f37fca604e45d5cae" title="Clears current captured value in specified capture channel.">MCPWM_ClearCapture</a>(<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html" title="Motor Control Pulse-Width Modulation (MCPWM) register structure definition.">LPC_MCPWM_TypeDef</a> *MCPWMx, uint32_t captureChannel)
<a name="l00218"></a>00218 {
<a name="l00219"></a>00219         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#8551eb7ecad21e0f8c35ac6dfb0dbf53">MCCAP_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#gd5239d931a25e8ee5e06aa89d1cf87cc">MCPWM_CAPCLR_CAP</a>(captureChannel);
<a name="l00220"></a>00220 }
<a name="l00221"></a>00221 
<a name="l00222"></a>00222 <span class="comment">/*********************************************************************/</span>
<a name="l00229"></a><a class="code" href="group___m_c_p_w_m___public___functions.html#g5f37fefd23719b3b323962a7a16837f4">00229</a> uint32_t <a class="code" href="group___m_c_p_w_m___public___functions.html#g5f37fefd23719b3b323962a7a16837f4" title="Get current captured value in specified capture channel.">MCPWM_GetCapture</a>(<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html" title="Motor Control Pulse-Width Modulation (MCPWM) register structure definition.">LPC_MCPWM_TypeDef</a> *MCPWMx, uint32_t captureChannel)
<a name="l00230"></a>00230 {
<a name="l00231"></a>00231         <span class="keywordflow">if</span> (captureChannel == 0){
<a name="l00232"></a>00232                 <span class="keywordflow">return</span> (MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#bc04dda9d74befbceb2baad724fb360c">MCCR0</a>);
<a name="l00233"></a>00233         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (captureChannel == 1) {
<a name="l00234"></a>00234                 <span class="keywordflow">return</span> (MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#86ac063ec76d708c9220a2035b07c0c9">MCCR1</a>);
<a name="l00235"></a>00235         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (captureChannel == 2) {
<a name="l00236"></a>00236                 <span class="keywordflow">return</span> (MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#f3ec2a0a35a831a423a9c3b8b3d9ed24">MCCR2</a>);
<a name="l00237"></a>00237         }
<a name="l00238"></a>00238         <span class="keywordflow">return</span> (0);
<a name="l00239"></a>00239 }
<a name="l00240"></a>00240 
<a name="l00241"></a>00241 
<a name="l00242"></a>00242 <span class="comment">/*********************************************************************/</span>
<a name="l00255"></a><a class="code" href="group___m_c_p_w_m___public___functions.html#ge63d087dc23adc8bf28dce7a1a458b15">00255</a> <span class="keywordtype">void</span> <a class="code" href="group___m_c_p_w_m___public___functions.html#ge63d087dc23adc8bf28dce7a1a458b15" title="Configures Count control in MCPWM peripheral.">MCPWM_CountConfig</a>(<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html" title="Motor Control Pulse-Width Modulation (MCPWM) register structure definition.">LPC_MCPWM_TypeDef</a> *MCPWMx, uint32_t channelNum,
<a name="l00256"></a>00256                                         uint32_t countMode, <a class="code" href="struct_m_c_p_w_m___c_o_u_n_t___c_f_g___type.html" title="MCPWM Count Control Configuration type definition.">MCPWM_COUNT_CFG_Type</a> *countConfig)
<a name="l00257"></a>00257 {
<a name="l00258"></a>00258         <span class="keywordflow">if</span> ((channelNum &gt;= 0) &amp;&amp; (channelNum &lt;= 2)) {
<a name="l00259"></a>00259                 <span class="keywordflow">if</span> (countMode <span class="comment">/* == ENABLE */</span>){
<a name="l00260"></a>00260                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#606e880a3424a8bfad93afffb846227d">MCCNTCON_SET</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g6f410090259daac15ea7b7121dc419d1">MCPWM_CNTCON_CNTR</a>(channelNum);
<a name="l00261"></a>00261                         <span class="keywordflow">if</span> (countConfig-&gt;<a class="code" href="struct_m_c_p_w_m___c_o_u_n_t___c_f_g___type.html#7c9ee698a2ab75dbce98f3cbd75fa23b">countFalling</a> <span class="comment">/* == ENABLE */</span>) {
<a name="l00262"></a>00262                                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#606e880a3424a8bfad93afffb846227d">MCCNTCON_SET</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g49a99cbc013d62c6045de958e5af95ea">MCPWM_CNTCON_TCMCI_FE</a>(countConfig-&gt;<a class="code" href="struct_m_c_p_w_m___c_o_u_n_t___c_f_g___type.html#285148e2712f35ba4c3753593259330b">counterChannel</a>,channelNum);
<a name="l00263"></a>00263                         } <span class="keywordflow">else</span> {
<a name="l00264"></a>00264                                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#f207f92b68b348967be2b2e6f55fa790">MCCNTCON_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g49a99cbc013d62c6045de958e5af95ea">MCPWM_CNTCON_TCMCI_FE</a>(countConfig-&gt;<a class="code" href="struct_m_c_p_w_m___c_o_u_n_t___c_f_g___type.html#285148e2712f35ba4c3753593259330b">counterChannel</a>,channelNum);
<a name="l00265"></a>00265                         }
<a name="l00266"></a>00266                         <span class="keywordflow">if</span> (countConfig-&gt;<a class="code" href="struct_m_c_p_w_m___c_o_u_n_t___c_f_g___type.html#123b681fe3987d662d5f663e27ee4eb4">countRising</a> <span class="comment">/* == ENABLE */</span>) {
<a name="l00267"></a>00267                                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#606e880a3424a8bfad93afffb846227d">MCCNTCON_SET</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g1b0dd26a880113087ce03b6bb9ada7df">MCPWM_CNTCON_TCMCI_RE</a>(countConfig-&gt;<a class="code" href="struct_m_c_p_w_m___c_o_u_n_t___c_f_g___type.html#285148e2712f35ba4c3753593259330b">counterChannel</a>,channelNum);
<a name="l00268"></a>00268                         } <span class="keywordflow">else</span> {
<a name="l00269"></a>00269                                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#f207f92b68b348967be2b2e6f55fa790">MCCNTCON_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g1b0dd26a880113087ce03b6bb9ada7df">MCPWM_CNTCON_TCMCI_RE</a>(countConfig-&gt;<a class="code" href="struct_m_c_p_w_m___c_o_u_n_t___c_f_g___type.html#285148e2712f35ba4c3753593259330b">counterChannel</a>,channelNum);
<a name="l00270"></a>00270                         }
<a name="l00271"></a>00271                 } <span class="keywordflow">else</span> {
<a name="l00272"></a>00272                         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#f207f92b68b348967be2b2e6f55fa790">MCCNTCON_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g6f410090259daac15ea7b7121dc419d1">MCPWM_CNTCON_CNTR</a>(channelNum);
<a name="l00273"></a>00273                 }
<a name="l00274"></a>00274         }
<a name="l00275"></a>00275 }
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 
<a name="l00278"></a>00278 <span class="comment">/*********************************************************************/</span>
<a name="l00293"></a><a class="code" href="group___m_c_p_w_m___public___functions.html#g448a3c4be9f63c0a9acd46cdd5a1edaf">00293</a> <span class="keywordtype">void</span> <a class="code" href="group___m_c_p_w_m___public___functions.html#g448a3c4be9f63c0a9acd46cdd5a1edaf" title="Start MCPWM activity for each MCPWM channel.">MCPWM_Start</a>(<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html" title="Motor Control Pulse-Width Modulation (MCPWM) register structure definition.">LPC_MCPWM_TypeDef</a> *MCPWMx, uint32_t channel0,
<a name="l00294"></a>00294                                         uint32_t channel1, uint32_t channel2)
<a name="l00295"></a>00295 {
<a name="l00296"></a>00296         uint32_t regVal = 0;
<a name="l00297"></a>00297         regVal = (channel0 ? <a class="code" href="group___m_c_p_w_m___private___macros.html#gc3e50a27b6f7979b7b8fdd3526738910">MCPWM_CON_RUN</a>(0) : 0) | (channel1 ? <a class="code" href="group___m_c_p_w_m___private___macros.html#gc3e50a27b6f7979b7b8fdd3526738910">MCPWM_CON_RUN</a>(1) : 0) \
<a name="l00298"></a>00298                                 | (channel2 ? <a class="code" href="group___m_c_p_w_m___private___macros.html#gc3e50a27b6f7979b7b8fdd3526738910">MCPWM_CON_RUN</a>(2) : 0);
<a name="l00299"></a>00299         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#82c2c3a1cdb3425aeb9cb7fd83fefcad">MCCON_SET</a> = regVal;
<a name="l00300"></a>00300 }
<a name="l00301"></a>00301 
<a name="l00302"></a>00302 
<a name="l00303"></a>00303 <span class="comment">/*********************************************************************/</span>
<a name="l00318"></a><a class="code" href="group___m_c_p_w_m___public___functions.html#gc2376bba14abd68444dfc0bcf14b0ac1">00318</a> <span class="keywordtype">void</span> <a class="code" href="group___m_c_p_w_m___public___functions.html#gc2376bba14abd68444dfc0bcf14b0ac1" title="Stop MCPWM activity for each MCPWM channel.">MCPWM_Stop</a>(<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html" title="Motor Control Pulse-Width Modulation (MCPWM) register structure definition.">LPC_MCPWM_TypeDef</a> *MCPWMx, uint32_t channel0,
<a name="l00319"></a>00319                 uint32_t channel1, uint32_t channel2)
<a name="l00320"></a>00320 {
<a name="l00321"></a>00321         uint32_t regVal = 0;
<a name="l00322"></a>00322         regVal = (channel0 ? <a class="code" href="group___m_c_p_w_m___private___macros.html#gc3e50a27b6f7979b7b8fdd3526738910">MCPWM_CON_RUN</a>(0) : 0) | (channel1 ? <a class="code" href="group___m_c_p_w_m___private___macros.html#gc3e50a27b6f7979b7b8fdd3526738910">MCPWM_CON_RUN</a>(1) : 0) \
<a name="l00323"></a>00323                                 | (channel2 ? <a class="code" href="group___m_c_p_w_m___private___macros.html#gc3e50a27b6f7979b7b8fdd3526738910">MCPWM_CON_RUN</a>(2) : 0);
<a name="l00324"></a>00324         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#c640b1807f7c216fe856db2a6d2f519b">MCCON_CLR</a> = regVal;
<a name="l00325"></a>00325 }
<a name="l00326"></a>00326 
<a name="l00327"></a>00327 
<a name="l00328"></a>00328 <span class="comment">/*********************************************************************/</span>
<a name="l00337"></a><a class="code" href="group___m_c_p_w_m___public___functions.html#gc95bf50eb70d6c425f690aa0df255e06">00337</a> <span class="keywordtype">void</span> <a class="code" href="group___m_c_p_w_m___public___functions.html#gc95bf50eb70d6c425f690aa0df255e06" title="Enables/Disables 3-phase AC motor mode on MCPWM peripheral.">MCPWM_ACMode</a>(<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html" title="Motor Control Pulse-Width Modulation (MCPWM) register structure definition.">LPC_MCPWM_TypeDef</a> *MCPWMx, uint32_t acMode)
<a name="l00338"></a>00338 {
<a name="l00339"></a>00339         <span class="keywordflow">if</span> (acMode){
<a name="l00340"></a>00340                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#82c2c3a1cdb3425aeb9cb7fd83fefcad">MCCON_SET</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g368aaa99fbfdafbacfc4b3bb480789ac">MCPWM_CON_ACMODE</a>;
<a name="l00341"></a>00341         } <span class="keywordflow">else</span> {
<a name="l00342"></a>00342                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#c640b1807f7c216fe856db2a6d2f519b">MCCON_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g368aaa99fbfdafbacfc4b3bb480789ac">MCPWM_CON_ACMODE</a>;
<a name="l00343"></a>00343         }
<a name="l00344"></a>00344 }
<a name="l00345"></a>00345 
<a name="l00346"></a>00346 
<a name="l00347"></a>00347 <span class="comment">/*********************************************************************/</span>
<a name="l00372"></a><a class="code" href="group___m_c_p_w_m___public___functions.html#gdbb94ec3f702478c59dab6ff0377223c">00372</a> <span class="keywordtype">void</span> <a class="code" href="group___m_c_p_w_m___public___functions.html#gdbb94ec3f702478c59dab6ff0377223c" title="Enables/Disables 3-phase DC motor mode on MCPWM peripheral.">MCPWM_DCMode</a>(<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html" title="Motor Control Pulse-Width Modulation (MCPWM) register structure definition.">LPC_MCPWM_TypeDef</a> *MCPWMx, uint32_t dcMode,
<a name="l00373"></a>00373                                         uint32_t outputInvered, uint32_t outputPattern)
<a name="l00374"></a>00374 {
<a name="l00375"></a>00375         <span class="keywordflow">if</span> (dcMode){
<a name="l00376"></a>00376                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#82c2c3a1cdb3425aeb9cb7fd83fefcad">MCCON_SET</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g7969d577498619fec26b84f19a9a5453">MCPWM_CON_DCMODE</a>;
<a name="l00377"></a>00377         } <span class="keywordflow">else</span> {
<a name="l00378"></a>00378                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#c640b1807f7c216fe856db2a6d2f519b">MCCON_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#g7969d577498619fec26b84f19a9a5453">MCPWM_CON_DCMODE</a>;
<a name="l00379"></a>00379         }
<a name="l00380"></a>00380 
<a name="l00381"></a>00381         <span class="keywordflow">if</span> (outputInvered) {
<a name="l00382"></a>00382                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#82c2c3a1cdb3425aeb9cb7fd83fefcad">MCCON_SET</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#gccc8fe595f88cd2312d760c9335fd938">MCPWM_CON_INVBDC</a>;
<a name="l00383"></a>00383         } <span class="keywordflow">else</span> {
<a name="l00384"></a>00384                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#c640b1807f7c216fe856db2a6d2f519b">MCCON_CLR</a> = <a class="code" href="group___m_c_p_w_m___private___macros.html#gccc8fe595f88cd2312d760c9335fd938">MCPWM_CON_INVBDC</a>;
<a name="l00385"></a>00385         }
<a name="l00386"></a>00386 
<a name="l00387"></a>00387         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#c05ec2d269881c88146c682df4474f23">MCCCP</a> = outputPattern;
<a name="l00388"></a>00388 }
<a name="l00389"></a>00389 
<a name="l00390"></a>00390 
<a name="l00391"></a>00391 <span class="comment">/*********************************************************************/</span>
<a name="l00413"></a><a class="code" href="group___m_c_p_w_m___public___functions.html#g89d04e5370dd87052d6ac6dbaffc186d">00413</a> <span class="keywordtype">void</span> <a class="code" href="group___m_c_p_w_m___public___functions.html#g89d04e5370dd87052d6ac6dbaffc186d" title="Configures the specified interrupt in MCPWM peripheral.">MCPWM_IntConfig</a>(<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html" title="Motor Control Pulse-Width Modulation (MCPWM) register structure definition.">LPC_MCPWM_TypeDef</a> *MCPWMx, uint32_t ulIntType, <a class="code" href="group___l_p_c___types___public___types.html#gc9a7e9a35d2513ec15c3b537aaa4fba1" title="Functional State Definition.">FunctionalState</a> NewState)
<a name="l00414"></a>00414 {
<a name="l00415"></a>00415         <span class="keywordflow">if</span> (NewState) {
<a name="l00416"></a>00416                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#d939b1c24b86755178059c1d12670bbf">MCINTEN_SET</a> = ulIntType;
<a name="l00417"></a>00417         } <span class="keywordflow">else</span> {
<a name="l00418"></a>00418                 MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#86f073608a83c8ca946bc47f1df25531">MCINTEN_CLR</a> = ulIntType;
<a name="l00419"></a>00419         }
<a name="l00420"></a>00420 }
<a name="l00421"></a>00421 
<a name="l00422"></a>00422 
<a name="l00423"></a>00423 <span class="comment">/*********************************************************************/</span>
<a name="l00441"></a><a class="code" href="group___m_c_p_w_m___public___functions.html#gaa883e7ce874a1711408008f954a8aae">00441</a> <span class="keywordtype">void</span> <a class="code" href="group___m_c_p_w_m___public___functions.html#gaa883e7ce874a1711408008f954a8aae" title="Sets/Forces the specified interrupt for MCPWM peripheral.">MCPWM_IntSet</a>(<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html" title="Motor Control Pulse-Width Modulation (MCPWM) register structure definition.">LPC_MCPWM_TypeDef</a> *MCPWMx, uint32_t ulIntType)
<a name="l00442"></a>00442 {
<a name="l00443"></a>00443         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#ef71e71c0a5c0351a4411f9a086597ee">MCINTFLAG_SET</a> = ulIntType;
<a name="l00444"></a>00444 }
<a name="l00445"></a>00445 
<a name="l00446"></a>00446 
<a name="l00447"></a>00447 <span class="comment">/*********************************************************************/</span>
<a name="l00465"></a><a class="code" href="group___m_c_p_w_m___public___functions.html#gf36ff8cc2320ffacb800e8466f948754">00465</a> <span class="keywordtype">void</span> <a class="code" href="group___m_c_p_w_m___public___functions.html#gf36ff8cc2320ffacb800e8466f948754" title="Clear the specified interrupt pending for MCPWM peripheral.">MCPWM_IntClear</a>(<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html" title="Motor Control Pulse-Width Modulation (MCPWM) register structure definition.">LPC_MCPWM_TypeDef</a> *MCPWMx, uint32_t ulIntType)
<a name="l00466"></a>00466 {
<a name="l00467"></a>00467         MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#79b33e9db3a0396b28ef4a83f2b0f8bd">MCINTFLAG_CLR</a> = ulIntType;
<a name="l00468"></a>00468 }
<a name="l00469"></a>00469 
<a name="l00470"></a>00470 
<a name="l00471"></a>00471 <span class="comment">/*********************************************************************/</span>
<a name="l00488"></a><a class="code" href="group___m_c_p_w_m___public___functions.html#g0fd65fbdf03d146a54955ce16a7c7420">00488</a> <a class="code" href="group___l_p_c___types___public___types.html#g89136caac2e14c55151f527ac02daaff" title="Flag Status and Interrupt Flag Status type definition.">FlagStatus</a> <a class="code" href="group___m_c_p_w_m___public___functions.html#g0fd65fbdf03d146a54955ce16a7c7420" title="Check whether if the specified interrupt in MCPWM is set or not.">MCPWM_GetIntStatus</a>(<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html" title="Motor Control Pulse-Width Modulation (MCPWM) register structure definition.">LPC_MCPWM_TypeDef</a> *MCPWMx, uint32_t ulIntType)
<a name="l00489"></a>00489 {
<a name="l00490"></a>00490         <span class="keywordflow">return</span> ((MCPWMx-&gt;<a class="code" href="struct_l_p_c___m_c_p_w_m___type_def.html#8be816d1f2862f0fe5b99374ec313e61">MCINTFLAG</a> &amp; ulIntType) ? <a class="code" href="group___l_p_c___types___public___types.html#gg89136caac2e14c55151f527ac02daaffb44c8101cc294c074709ec1b14211792">SET</a> : <a class="code" href="group___l_p_c___types___public___types.html#gg89136caac2e14c55151f527ac02daaff589b7d94a3d91d145720e2fed0eb3a05">RESET</a>);
<a name="l00491"></a>00491 }
<a name="l00492"></a>00492 
<a name="l00497"></a>00497 <span class="preprocessor">#endif </span><span class="comment">/* _MCPWM */</span>
<a name="l00498"></a>00498 
<a name="l00503"></a>00503 <span class="comment">/* --------------------------------- End Of File ------------------------------ */</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jun 7 14:58:56 2011 for LPC1700CMSIS Standard Peripheral Firmware Library Manual by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
